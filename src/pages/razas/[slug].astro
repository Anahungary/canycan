---
import BreedLayout from '../../layouts/BreedLayout.astro';
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const razas = await getCollection('razas');
  return razas.map(r => ({ params: { slug: r.slug }, props: { raza: r } }));
}

const { raza } = Astro.props;
if (!raza) return Astro.redirect('/404');

const { Content } = await raza.render();
---

<BreedLayout breed={raza.data}>
  <!-- Slot: pasamos el markup completo para que BreedLayout lo divida en tabs -->
  <Content />
</BreedLayout>
